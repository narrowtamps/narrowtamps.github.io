<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      height: 100vh;
      overflow: hidden; /* Keeps scrollbars from appearing */
      background-color: #f0f0f0;
    }

    #spinningImage {
      position: absolute; /* Essential for bouncing movement */
      width: 150px;
      height: auto;
      cursor: pointer;
      /* Smoothly transition the spin class */
      transition: filter 0.3s; 
    }

    /* This class is toggled by JavaScript */
    .spin {
      animation: rotation 2s infinite linear;
    }

    @keyframes rotation {
      from { transform: rotate(0deg); }
      to { transform: rotate(359deg); }
    }
  </style>
</head>
<body>

    <img src="fish.gif" id="spinningImage" onclick="playMusic()">
    <audio id="myAudio" src="oh-naur.mp3"></audio>

    <script>
        const img = document.getElementById("spinningImage");
        const audio = document.getElementById("myAudio");
        
        let x = 0, y = 0; 
        let vx = 4, vy = 4; // Movement speed

        function playMusic() {
            // Toggle the CSS spin animation
            img.classList.toggle("spin");
            
            if (audio.paused) {
                audio.play();
            } else {
                audio.pause();
                audio.currentTime = 0;
            }
        }

        function bounce() {
            // Calculate boundaries based on current window size
            const w = window.innerWidth - img.clientWidth;
            const h = window.innerHeight - img.clientHeight;
            
            x += vx; 
            y += vy;
            
            // Collision detection for walls
            if (x >= w || x <= 0) vx *= -1;
            if (y >= h || y <= 0) vy *= -1;
            
            // Apply movement
            img.style.left = x + 'px';
            img.style.top = y + 'px';
            
            requestAnimationFrame(bounce);
        }

        // Initialize bounce on load
        window.onload = () => {
            bounce();
        };
    </script>
</body>
</html>

